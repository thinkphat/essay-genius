# docker/Dockerfile.dev
FROM eclipse-temurin:21-jdk-jammy
WORKDIR /app

# Copy gradle wrapper + build files first
COPY mvnw pom.xml ./
COPY .mvn ./.mvn

# Download dependencies (cached)
RUN ./mvnw dependency:go-offline -B || true

# Copy source code
COPY src ./src

# Expose dev port
EXPOSE 8080

# Run Spring Boot in dev mode
CMD ["./gradlew", "bootRun", "--no-daemon"]
